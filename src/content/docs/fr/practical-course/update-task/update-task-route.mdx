---
title: Ajoutez une route pour la fonctionnalit√© de mise √† jour de la t√¢che
description: D√©couvrez comment ajouter une route pour mettre √† jour une t√¢che dans une application Angular.
---

import { Steps } from '@astrojs/starlight/components';
import Objective from '../../../../../components/learning-objective.astro';

<Objective class="drop-shadow-xl" objectives={[
{mainTitle: 'Objectifs de ce chapitre', title: 'Cr√©ez une route dynamique', description: 'D√©finissez un chemin de routage dynamique pour transmettre l\'identifiant de la t√¢che √† mettre √† jour.'},
]} />

## Configuration de la route

Jusqu'√† pr√©sent, vous avez d√©fini 2 chemins de route:

- `''` pour le composant **TaskListComponent** pour afficher la liste des t√¢ches;
- `'add-task'` pour le composant **AddTaskComponent** pour afficher un formulaire.

Le chemin de mise √† jour est assez diff√©rent car vous ne voulez pas seulement aller sur une nouvelle page. Pour mettre √† jour une t√¢che, vous devez savoir quelle t√¢che mettre √† jour.

Une mani√®re courante de fournir des informations √† un composant rout√© consiste √† utiliser un chemin de routage dynamique.

## Cr√©er l'itin√©raire

Le nouveau chemin sera `update/:id`.
La partie `update` est statique mais la partie `:id` est dynamique.

:::tip
La partie `:id` est un param√®tre de route.
Vous pouvez encha√Æner plusieurs param√®tres de route dans un chemin, par exemple `'update/:id/:name'`.
Chacun est pr√©fix√© par deux points `:` suivi d'un nom choisi arbitrairement.
:::

Vous ne cr√©erez pas de composant d√©di√© pour la fonctionnalit√© de mise √† jour.
Le but de **TaskFormComponent** est de cr√©er des t√¢ches avec la saisie de l'utilisateur¬†et de mettre √† jour.
Mettons √† jour le composant pour g√©rer √† la fois la cr√©ation et la mise √† jour.

### üéì Instructions

<Steps>

1. Mettez √† jour le fichier `src/app/app-routing.module.ts`.

   ```typescript ins={"1. Ajoutez la route pour la fonctionnalit√© de t√¢che de mise √† jour": 9-10}
   import { NgModule } from '@angular/core';
   import { RouterModule, Routes } from '@angular/router';
   import { TaskListComponent } from './task-list/task-list.component';
   import { TaskFormComponent } from './task-form/task-form.component';

   const routes: Routes = [
       { path: '', component: TaskListComponent },
       { path: 'add-task', component: TaskFormComponent },

       { path: 'update/:id', component: TaskFormComponent }
   ];

   @NgModule({
     imports: [RouterModule.forRoot(routes)],
     exports: [RouterModule]
   })
   export class AppRoutingModule { }
   ```



</Steps>

## Mettez √† jour la navigation

Ajoutez un lien dans le **TaskListComponent** pour acc√©der au **TaskFormComponent** avec l'**id** de la t√¢che √† mettre √† jour.
En acc√©dant √† ce chemin, vous extrairez la valeur **id** de l'URL dans le chapitre suivant.

### üéì Instructions

<Steps>

1. Mettez √† jour le fichier `src/app/task-list/task-list.component.html`.

    ```html ins={"1. Ajoutez un bouton de mise √† jour": 4-5}
    <tr *ngFor="let task of tasks">
        <td>{{ task.title }}</td>
        <td>{{ task.createdAt | date }}</td>

        <td><a class="btn btn-primary" [routerLink]="['/update', task.id]">Mettre √† jour</a></td>
    </tr>
    ```

</Steps>

La valeur **routerLink** attend une cha√Æne ou un tableau de segments d'URL.
La premi√®re est une cha√Æne, la partie statique du chemin.
Le second est le **id** de la t√¢che √† mettre √† jour.

## Testez-le

<Steps>

1. Cliquez sur le bouton 'Mettre √† jour' sur la premi√®re t√¢che de la liste.
2. V√©rifiez l'URL:  `http://localhost:4200/update/d8ecfcda-ef70-420f-8236-3138ff64ac9f` par exemple.
3. Le formulaire **TaskFormComponent** s'affiche bien.

</Steps>

## ‚úîÔ∏è Ce que vous avez appris

Dans ce chapitre, vous avez appris √† ajouter une route pour mettre √† jour une t√¢che dans une application Angular. Vous avez appris √† d√©finir un chemin de routage dynamique pour transmettre l'**id** de la t√¢che √† mettre √† jour. Vous avez √©galement appris √† utiliser la directive **routerLink** pour acc√©der au **TaskFormComponent** et transmettre l'**id** de la t√¢che √† mettre √† jour.

