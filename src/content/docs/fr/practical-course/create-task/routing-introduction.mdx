---
title: Introduction au routing
description: Introduction au routing au sein de votre application
---

import {Steps} from '@astrojs/starlight/components';
import Objective from '../../../../../components/learning-objective.astro';

<Objective class="drop-shadow-xl" objectives={[
    {
        mainTitle: 'Objectifs de ce chapitre',
        title: 'Comprendre le routage avec Angular',
        description: 'D√©couvrez comment fonctionne le routage dans Angular.'
    },
    {title: 'D√©finir des routes', description: 'D√©finissez des routes dans votre application.'},
]}/>

## Qu'est-ce que le routing ?

Le routing est le processus permettant de d√©terminer le contenu √† afficher en fonction de l'URL du navigateur.
Angular est un framework d'application monopage (SPA). En modifiant l'URL, l'application peut afficher un contenu diff√©rent sans recharger la page.
Il fournit une API **Router** pour modifier le contenu en fonction de l'URL.

Le projet affiche actuellement une liste de t√¢ches.
Afin d'ajouter une nouvelle t√¢che √† cette liste, vous avez besoin de pouvoir basculer la vue de cette liste √† la vue du formulaire.

## Directive router-outlet

Le module **RouterModule** fournit une directive appel√© `router-outlet`. Cette directive est utilis√©e pour afficher le contenu de la route actuelle. Lorsque l'utilisateur navigue vers un itin√©raire diff√©rent, le contenu du `router-outlet` est remplac√© par le contenu du nouvel itin√©raire.
La directive `router-outlet` a pour seul r√¥le de marquer l'emplacement dans le Template HTML du contenu correspondant √† l'URL que vous aurez d√©fini.

### üéì Instructions

1. Modifiez le fichier `src/app/app.component.html`.

    ```html ins={"Ajoutez la directive via la balise router-outlet pour marquer l'emplacement du contenu configur√© via l'URL": 6-7}
    <header>
        <h1>Angular Practical course</h1>
    </header>

    <main class="container pt-4">

        <router-outlet/>
    </main>
    ```

Dans le cas ci-dessus, le `router-outlet` est plac√© entre les balises `<main>`. Cela signifie donc que vous continuerez √† avoir l'en-t√™te `<header>` sur toutes les pages et que le contenu param√©tr√© changera en fonction de l'URL sur laquelle vous naviguerez.

## D√©finir les routes

Pour afficher le contenu souhait√© par rapport √† l'URL, vous devez ajouter dans votre tableau `routes` un chemin `path` √† chacun de vos composants `component`:

```typescript
{ path: 'add-task', component: TaskFormComponent }
```

Le chemin est donc l'URL vers laquelle l'utilisateur acc√©dera. Par exemple, le chemin `/add-task` signifie que l'utilisateur naviguera vers l'URL `http://localhost:4200/add-task`.

Le composant fourni est le composant qui sera affich√© dans l'espace r√©serv√© `router-outlet` lorsque l'utilisateur acc√®de √† cette URL.

La d√©finition de la route r√©side dans le fichier `app-routing.module.ts`.

### üéì Instructions

<Steps>

1. Modifiez le fichier `src/app/app-routing.module.ts`.

    ```typescript ins={"Importez les composants pour chaque itin√©raire": 4-6} ins={"D√©finissez les routes": 9-11}
    // app-routing.module.ts
    import {NgModule} from '@angular/core';
    import {Routes, RouterModule} from '@angular/router';

    import {TaskListComponent} from './task-list/task-list.component';
    import {TaskFormComponent} from './task-form/task-form.component';

    const routes: Routes = [

      {path: '', component: TaskListComponent},
      {path: 'add-task', component: TaskFormComponent}
    ];

    @NgModule({
      imports: [RouterModule.forRoot(routes)],
      exports: [RouterModule]
    })
    export class AppRoutingModule {}
    ```

</Steps>


## Ajoutez des liens pour naviguer entre les routes

Il faut ajouter des liens pour d√©clencher la navigation entre les diff√©rents itin√©raires.
Vous pourriez modifier manuellement l'URL dans le navigateur, mais les utilisateurs s'attendent √† disposer de liens cliquables pour naviguer entre les pages.

La balise HTML `<a>` est utilis√©e pour cr√©er des liens et est associ√©e la directive **routerLink** pour utliser le routing d'Angular. Cette directive prend le chemin de la route vers laquelle naviguer en tant que valeur.

### üéì Instructions

<Steps>

1. Modifiez le fichier `src/app/app.component.html`.

    ```html ins={"Ajoutez des liens pour naviguer entre les routes": 4-6}
    // app.component.html
    <header>
        <h1 class="navbar-brand fw-bold">Angular Practical course</h1>

        <a class="btn btn-light" routerLink="/">Liste des t√¢ches</a>
        <a class="btn btn-light" routerLink="/add-task">Ajouter une nouvelle t√¢che</a>
    </header>

    <main class="container pt-4">
        <router-outlet />
    </main>
    ```

2. Cliquez sur les deux liens pour voir le contenu de `TaskListComponent` et `TaskFormComponent` s'afficher √† tour de r√¥le √† l'emplacement d√©fini par le `router-outlet`.

</Steps>

:::tip
Le chemin du composant **TaskFormComponent** est d√©fini √† `add-task` dans le fichier `app-routing.module.ts`. Par contre, dans le Template HTML, dans la directive **routerLink**, il est sp√©cifi√© comme `/add-task` (avec le `/`).

**routerLink** construit l'URL de mani√®re relative au chemin courant. Ajoutez un slash indique que l'URL doit √™tre construite depuis l'URL de base de l'application (ici `http://localhost:4200`). Sans la sp√©cification du slash dans la directive du **routerLink**, vous r√©aliseriez des imbrications et vous navigueriez vers `/add-task/add-task`.

>  `<a routerLink="/add-task">...</a>` => http://localhost:4200/add-task`<a routerLink="add-task">...</a>` => http://localhost:4200/add-task/add-task
:::

## ‚úîÔ∏è Ce que vous avez appris

Dans ce chapitre, vous avez appris √† ajouter du routage √† votre application. Vous avez appris √† d√©finir les routes et √† naviguer entre elles √† l'aide de la directive **routerLink**. Vous avez √©galement appris √† afficher le contenu de la route actuelle √† l'aide de la directive `router-outlet`.
