---
title: Routing avanc√©
description: Apprenez-en un peu plus sur le routing dans une application Angular
---

import { Steps } from '@astrojs/starlight/components';
import Objective from '../../../../../components/learning-objective.astro';

<Objective class="drop-shadow-xl" objectives={[
{mainTitle: 'Objectifs de ce chapitre', title: 'Routing avanc√©', description: 'Apprenez √† utiliser le routing avanc√© dans une application Angular.'},
]} />

Dans la derni√®re √©tape, vous avez test√© le formulaire avec ce sc√©nario :

1. Cliquez sur le lien  `Ajoutez une nouvelle t√¢che`
2. Saisissez un titre et une description dans le formulaire
3. Cliquez sur le bouton `Cr√©er une t√¢che`
4. Cliquez sur le lien `Liste des t√¢ches`

Mais que se passe-t-il si l'on souhaite rediriger l'utilisateur vers la liste des t√¢ches apr√®s la soumission du formulaire ?
C'est un sc√©nario courant dans les applications Web et Angular fournit un moyen de le faire.

Vous avez vu comment d√©clencher une navigation en cliquant sur un lien avec la directive **routerLink**.
Mais dans cette situation, vous allez d√©clencher une navigation lorsque la fonction **submit** est appel√©e.

## Injectez le Router

Vos propres services personnalis√©s ne sont pas les seuls √©l√©ments que vous pouvez injecter dans le constructeur d'un composant.
En utilisant la fonctionnalit√© Angular Router, vous pouvez injecter le service **Router** dans un composant.

Ce service vous permet de r√©cup√©rer des informations sur la route actuelle et vous permet de naviguer vers une route diff√©rente.

### üéì Instructions

<Steps>

1. Modifiez le fichier `src/app/task-form.component.ts`.

    ```typescript ins={"1. Importez le Router": 4-5} ins={"2. Injectez le Router dans la classe du constructeur": 20-21} ins={"3. Utilisez la fonction de navigation fournit par le Router": 26-27}
    // task-form.component.ts
    import { Component } from '@angular/core';
    import { TaskService } from '../task.service';

    import { Router } from '@angular/router';

    @Component({
        selector: 'app-task-form',
        templateUrl: './task-form.component.html',
        styleUrls: ['./task-form.component.css']
    })
    export class TaskFormComponent {
        task = {
            title: '',
            description: ''
        };

        constructor(
            private taskService: TaskService,

            private router: Router
        ) { }

        submit() {
            this.taskService.addTask(this.task);

            this.router.navigate(['/']);
        }
    }
    ```

</Steps>

La fonction de navigation attend un tableau de segments de routes en tant que param√®tre.
Dans notre cas, vous allez naviguer vers la route **tasks** telle que vous l'avez d√©fini dans votre configuration de route. Vous transmettez donc `['/']`.

```typescript
const routes: Routes = [
  { path: '', component: TaskListComponent },
  { path: 'add-task', component: TaskFormComponent }
];
```

## Testez-le

Maintenant, si vous r√©p√©tez le sc√©nario pr√©c√©dent :

<Steps>

1. Cliquez sur le lien  `Ajoutez une nouvelle t√¢che`
2. Saisissez un titre et une description dans le formulaire
3. Cliquez sur le bouton `Cr√©er une t√¢che`

</Steps>

Vous devriez √™tre redirig√© vers la liste des t√¢ches.

## ‚úîÔ∏è Ce que vous avez appris

Dans ce chapitre, vous avez appris √† utiliser le routage programmatique dans une application Angular. Vous avez appris √† injecter le service **Router** dans un composant et √† utiliser sa fonction **navigate** pour naviguer vers un itin√©raire diff√©rent.
